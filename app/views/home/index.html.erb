<script>
  $(document).ready(function(){
    <% @articles.each do |article|  %>
    var map = new google.maps.Map(document.getElementById('map_<%= article.id %>'), {
      center: {lat: <%= article.lat %>, lng: <%= article.lng %>},
      zoom: 4
    });
    var marker = new google.maps.Marker({
      map: map,
      position: new google.maps.LatLng(<%= article.lat %>,<%= article.lng %>),
      title: 'Hello World!'
    });
    <% end %>

  });
</script>

<!-- Carousel
================================================== -->
<div id="myCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner" role="listbox">
    <div class="item active">
      <img class="first-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="First slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Image1</h1>

        </div>
      </div>
    </div>
    <div class="item">
      <img class="second-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Image2</h1>

        </div>
      </div>
    </div>
    <div class="item">
      <img class="third-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Third slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Image3</h1>
        </div>
      </div>
    </div>
  </div>

</div><!-- /.carousel -->


<!-- Marketing messaging and featurettes
================================================== -->
<!-- Wrap the rest of the page in another container to center all the content. -->

<div class="container marketing">
  <h1>
    Popular Articles
  </h1>
  <hr/>
  <!-- Three columns of text below the carousel -->
  <div>
  <% @articles.each do |article|  %>
      <div style="height: 200px;">
        <div class="article">
            <h2 style="margin-top: 5px"><%= link_to article.title, article %></h2>
            <p id="content"><%= truncate article.content, length:400%></p>
        </div>
        <div id="map_<%= article.id%>" class="map">
          nothing
        </div>
      </div>
  <% end %>
  </div>


  <!-- /END THE FEATURETTES -->


  <!-- FOOTER -->
  <footer>
    <p class="pull-right"><a href="#">Back to top</a></p>
    <p>&copy; 2014 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
  </footer>

</div><!-- /.container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->

